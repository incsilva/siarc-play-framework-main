#{extends 'main.html' /}
#{set title:'Aparelhos: Listagem - SIARC: Sistema de Automação de Ar Condicionados' /}
<div>
<div>
	<h3>Aparelhos Ligados</h3>
	 <br>
<form action="@{Aparelhos.listar}" method="get">
	<div class="row">
		<div class="col-7">
			<input type="text" name="termo" class="form-control"/>
		</div>
		<input type="submit" value="Pesquisar" class="btn btn-primary btn-sm col-3"/>
		<a href="@{Aparelhos.menu}" class="btn btn-outline-primary btn-sm col-1">Voltar</a>
	</div>
	#{if termo}
		<small>Pesquisando por: ${termo}</small>
	#{/if}
	#{else}
		<small>Pesquisar por todos os aparelhos</small>
	#{/else}
</form>
<div class="table-responsive">
<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>Nome</th>
			<th>Endereço IP</th>
			<th>Endereço MAC</th>
			<th>Local</th>
			<th>Código IR Ligar</th>
			<th>Código IR Desligar</th>
			<th>Ações</th>
		</tr>
	</thead>
	<tbody>
		#{list items: aparelhos, as:'aparelho'}
		<tr>
			<th>${aparelho.nome}</th>
			<th>${aparelho.enderecoIp}</th>
			<th>${aparelho.enderecoMac}</th>
			<th>${aparelho.local}</th>
			<th>${aparelho.codIrLigar}</th>
			<th>${aparelho.codIrDesligar}</th>
			<th><a href="@{Aparelhos.editar(aparelho.id)}" class="btn btn-primary btn-sm" style="margin-right: 10px">Editar</a> 
			<a href="@{Aparelhos.remover(aparelho.id)}" class="btn btn-danger btn-sm">Remover</a></th>
		</tr>
		#{/list}
	</tbody>
</table>
</div>
</div>
</div>
<br><br><br>